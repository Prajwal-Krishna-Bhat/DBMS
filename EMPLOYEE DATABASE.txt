CREATE TABLE employee( 
Eid INT PRIMARY KEY
name VARCHAR2(20), address VARCHAR2(20),
Gender CHAR(1) CHECK(Gender = 'M' OR Gender ='F'), salary NUMBER(6),
SuperEid REFERENCES EMPLOYEE(Eid), dno NUMBER);

INSERT INTO employee VALUES(1, 'Rahul', 'Mangaluru', 'M', 35000,1,NULL);
INSERT INTO employee VALUES(2, 'Sahana', 'Mangaluru', 'F', 35000,1,NULL);
INSERT INTO employee VALUES(3, 'Sagar', 'Bengaluru', 'M',35000,1, NULL);
INSERT INTO employee VALUES(4, 'Sagarik', 'Mangaluru', 'M',35000,1,NULL);
INSERT INTO employee VALUES(5, 'Sajaan', 'Mysore', 'M', 600000,1,NULL);

CREATE TABLE department( 
Dnum NUMBER(5) PRIMARY KEY, 
dname VARCHAR2(10), 
Dmgr_id REFERENCES employee(Eid); 
Mgr_start_date date);

INSERT INTO department VALUES(1,'CSE',1,'2-Nov-2007');
INSERT INTO department VALUES(2, 'IOT',2,'2-Nov-2007');
INSERT INTO department VALUES(3,'Account',2,'2-Nov-2017');
INSERT INTO department VALUES(4,'ISE',1,'2-Nov-2000');
INSERT INTO department VALUES(5, 'Finance',1,'3-Nov-2001');

ALTER TABLE employee ADD CONSTRAINT fk FOREIGN KEY(dno) REFERENCES department(Dnum);

UPDATE employee SET dno-4
where eid=1;

UPDATE employee SET dno=1
where eid=2;

UPDATE employee SET dno=3
where eid=3;

UPDATE employee I SET dno=3
where eid=4;

UPDATE employee SET dno=3 
where eid=5;

 CREATE TABLE dlocation ( 
dno REFERENCES department(dnum), 
location VARCHAR2(10), 
PRIMARY KEY(dno, location));

 CREATE TABLE project( 
Pnum NUMBER(2) PRIMARY KEY, 
Pname VARCHAR2(20), 
Plocation VARCHAR2(20), 
dno NUMBER REFERENCES department);

CREATE TABLE works_on ( 
Eid NUMBER(5) REFERENCES employee, 
Pno NUMBER(2) REFERENCES project, 
hours NUMBER(5,2), 
primary key(Eid,Pno));

CREATE TABLE DEPENDENT(
EMPID INT CONSTRAINT DEP_EMPID_PK PRIMARY KEY, 
DEP NAME VARCHAR2(12),
GENDER VARCHAR2(5),
BDATE DATE, RELATIONSHIP VARCHAR2(12),
FOREIGN KEY (EMPID)REFERENCES EMPLOYEE(EID) ON DELETE CASCADE);

INSERT INTO DLOCATION VALUES(1,'Mangaluru');
INSERT INTO DLOCATION VALUES(1,'Mysore');
INSERT INTO DLOCATION VALUES(2,'Mangaluru');
INSERT INTO DLOCATION VALUES(3,'Bengaluru');
INSERT INTO DLOCATION VALUES(4,'Mangaluru');
INSERT INTO DLOCATION VALUES(5,'Mangaluru');

INSERT INTO PROJECT VALUES(2,'Data Mining','Managluru');
INSERT INTO PROJECT VALUES(1,'IOT','Managluru');
INSERT INTO PROJECT VALUES(3,'CC','Hubli');
INSERT INTO PROJECT VALUES(4,'Image processing','Managluru');
INSERT INTO PROJECT VALUES(5,'Research','Managluru');

INSERT INTO WORKS_ON VALUES(1,1,4);
INSERT INTO WORKS_ON VALUES(2,1,5);
INSERT INTO WORKS_ON VALUES(3,2,4);
INSERT INTO WORKS_ON VALUES(4,3,4);
INSERT INTO WORKS_ON VALUES(5,5,4);

INSERT INTO DEPENDENT VALUES(1,'SHREYA',F,22-JAN-75,WIFE);
INSERT INTO DEPENDENT VALUES(2,'SHREYA',M,15-JUN-77,BROTHER);
INSERT INTO DEPENDENT VALUES(3,'SHREYA',F,10-SEP-80,SISTER);
INSERT INTO DEPENDENT VALUES(4,'SHREYA',M,02-FEB-79,FATHER);
INSERT INTO DEPENDENT VALUES(5,'SHREYA',F,30-OCT-75,MOTHER);